/**
 * Widgets
 * -----------------------------------------------------------------------------
 * Home = Main column.
 * Sidebar = Sidebar column.
 * 
 * @category   Sass Template
 * @package    Kaitain CSS
 * @author     Mark Grealish <mark@bhalash.com>
 * @copyright  Copyright (c) 2014-2015, Tuairisc Bheo Teo
 * @license    All Rights Reserved
 * @version    2.0
 * @link       https://github.com/bhalash/tuairisc.ie
 */

/**
 * Sidebar Widget Titles
 * -----------------------------------------------------------------------------
 * Title style for all sidebar widget titles. Main column widgets have different
 * titles.
 */

.widget-title {
    @include margin($vspace, bottom);
}

.widget-subtitle {
    // Some widgets have an underlned title.
    @extend .title-underline;
    font-variant: small-caps;
}

/**
 * Home Featured Article Widget
 * -----------------------------------------------------------------------------
 * Inside articles are styles in _articles.scss
 */

.featured-row {
    @include columns(flex, article, 4, 2);
    @include margin($vspace * 0.5, bottom);

    @include media($b-640) {
        @include columns(flex, article, 2, 2) {
            @include margin($vspace * 0.5, bottom);
        }

        margin: 0;
    }
}

/**
 * Home Author Widget
 * -----------------------------------------------------------------------------
 */

.widget_kaitain_authors {
    background: palette(white, light);
    box-sizing: border-box;
    @include padding(1.3);

    a:hover .columnist-name {
        color: inherit;
    }
}

.kaitain-columnist-list {
    @include columns(flex, div, 4, 2);

    @include media($b-540) {
        @include columns(flex, div, 2, 2) {
            @include margin($vspace, bottom);
        }
    }
}

.columnist-photo { 
    @include margin($vspace * 0.5, bottom);
}

.kaitain-columnist:nth-child(-n+2) {
    @include media($b-640) {
        @include margin($vspace, bottom);
    }
}

.columnist-name {
    font-weight: bold;
}

/**
 * Sidebar Featured Category Widget
 * -----------------------------------------------------------------------------
 */

.widget_kaitain_sidebar_category {
    @include margin($vspace, bottom);
}

.sidebar-category-grey {
    // Default grey background.
    background: palette(white, light); 
}

.sidebar-category-title {
    @include margin($vspace * 0.75, bottom);
}

.sidebar-category-thumbnail {
    height: auto;
    width: 100%;
    @include margin($vspace, bottom);
}

.sidebar-category-widget-interior {
    box-sizing: border-box;
    @include padding($vspace);
}

/**
 * Home Featured Category Widget
 * -----------------------------------------------------------------------------
 * This widget is used at several points through the site.
 *
 * The styles for this are complex:
 *
 *  1. Left side is a big thumbnail and title below in a section-coloured box.
 *  2. Right side is a vertical, evenly-spaced list of articles.
 *
 *  Collapses down to a single, compact list of posts at ~540px.
 */

.category-widget-display {
    @include columns(flex, div, 2, 2);

    @include media($b-540) {
        display: block;
    }
}

.bhalash-category-widget-left {
    .category-article { 
        @include media($b-640) {
            @include margin($vspace * 1.5, bottom);
        }
    }

    .category-article-link {
        color: palette(white, x-light);

        &:hover .category-article-title {
            text-decoration: underline;
        }
    }

    .category-article-title {
        box-sizing: border-box;
        @include padding(1);
        @include rem(min-height, 9);

        @include media($b-540) {
            min-height: auto;
        }
    }
}

.bhalash-category-widget-right { 
    /* Vertical flex changes early to stop article content overwriting the 
     * element below. */
    @include flex-parent(column, space-between);

    @include media($b-768) {
        display: block;
    }

    .category-article-link {
        @include columns(flex, div, 30% auto, 2%);

        @include media($b-768) {
            @include columns(flex, div, 15% auto, 2%);
        }
    }

    .category-article-title {
        @extend %small;
    }

    .category-article {
        @include flex-child(1);

        @include media($b-768) {
            @include margin($vspace, bottom);
        }
    }
}
